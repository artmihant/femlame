# Практикум по МКЕ - образец

В данном примере мы решаем задачу Ламе методом конечных элементов.


Общий скрипт запускается через main.py . Возможно вам нужно будет доустановить какие-то библиотеки.

Параметры задачи выглядят примерно так:


    config = {
        "geometry": {
            "R1":1,
            "R2":2,
        },
        "mesh":{
            "resolution":5,
        },
        "material":{
            "E":2*10**11,
            "Nu":0.25,
        },
        "bcs":{
            "P1":0.0,
            "P2":1.0
        }
    }

Здесь заданы внутренний и внешний радиус трубы, давление на внутренний и внешний радиус, параметры материала и характерное разрешение сетки (число элементов на внутренней дуге). Задача будет решена на четверти плоского среза трубы с гранусловиями первого рода на её радиальных сторонах и гранусловиями второго рода (давлением) на дуговых сторонах.

Первая часть программы , `GenLameMesh`, генерирует сетку (mesh) под задачу Ламе на основе данных из `config["geometry"]` и `config["mesh"]`.

Сетка выглядит как:

    mesh = {
        nodes: array(dtype=float, shape=(,2))
        elems: array(dtype=int, shape=(,3))
        edges: {
            0: array(dtype=int, shape=(,1))
            1: array(dtype=int, shape=(,1))
            2: array(dtype=int, shape=(,1))
            3: array(dtype=int, shape=(,1))
        }
    }

Здесь заданы координаты всех узлов сетки, поиндексно заданные элементы сетки (треугольники) и четыре грани сетки, опять же, заданные поиндексно по граничным узлам.

Сетку можно выгрузить в файл inp и рассмотреть с помощью mesh2inp

Дальше, с помощью GenLameTask мы сгенерируем задачу (task) с помощью `config["material"]` и `config["boundary_condition"]`. Получится:


    task = {
        nodes: array(dtype=float, shape=(,2))
        elems: array(dtype=int, shape=(,3))
        boundary_conditions: [
            {"nodes": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], "type": "dirichlet", "value": 1},
            {"nodes": [0, 21, 43, 66, 90, 115, 141, 168, 196, 225, 255, 286, 318, 351], "type": "neumann", "fix": "y", "value": 0},
            {"nodes": [351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384], "type": "dirichlet", "value": 0},
            {"nodes": [20, 42, 65, 89, 114, 140, 167, 195, 224, 254, 285, 317, 350, 384], "type": "neumann", "fix": "x", "value": 0}
        ],
        material: {"E": 2*10**11, "Nu": 0.35}
    }

Эту задачу мы отдадим решателю (solver) и получим от него результат result.

